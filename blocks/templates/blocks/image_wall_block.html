{% load static wagtailimages_tags %}
<div class="image-wall" id="image-wall-{{ block.id }}">
{% for item in self.images %}
    {% image item.image height-180 format-webp as webp_img_h180 %}
    {% image item.image height-180 format-jpeg as jpg_img_h180 %}
    {% image item.image max-1200x800 format-webp as lightbox %}
    <picture data-src="{{ lightbox.url }}" data-caption="{{ item.image.description }}">
        <source srcset="{{ webp_img_h180.url }}" type="image/webp">
        <img src="{{ jpg_img_h180.url }}" alt="{{ jpg_img_h180.alt }}" height=180 width="auto" data-image-id="{{ item.image.id }}" />
    </picture>
{% endfor %}
</div>
<script type="module">
    import { ImageWall } from '{% static "js/imagewall.es.js" %}';
    include_css('{% static "css/imagewall.css" %}');
    const imageWall = new ImageWall(document.getElementById('image-wall-{{ block.id }}'));
</script>